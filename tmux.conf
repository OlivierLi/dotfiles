# Make it use C-a, similar to screen..
unbind C-b
unbind l
set -g prefix C-a
j
#Allow quick toggling to last window used
bind-key C-a last-window

#To get vim colorschemes working, also needs TERM=xterm-256color
set -g default-terminal "screen-256color"

#Removes the delay when ESC is pressed
set -sg escape-time 0

#Keep readline bindings
set-window-option -g xterm-keys on

#Sane action for mouse scroll
setw -g mode-mouse on

#Shit+Page{Up/Down} for navigating history
set -g terminal-overrides 'xterm*:smcup@:rmcup@'

#Open a new session if none exists
new-session

# use hjkl for moving
# and HJKL for resizing
setw -g mode-keys vi
bind h run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|/)vim$|(^|/)vimdiff$|(^|/)git$' && tmux send-keys C-a h) || tmux select-pane -L"
bind j run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|/)vim$|(^|/)vimdiff$|(^|/)git$' && tmux send-keys C-a j) || tmux select-pane -D"
bind k run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|/)vim$|(^|/)vimdiff$|(^|/)git$' && tmux send-keys C-a k) || tmux select-pane -U"
bind l run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|/)vim$|(^|/)vimdiff$|(^|/)git$' && tmux send-keys C-a l) || tmux select-pane -R"
bind \ run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|/)vim$|(^|/)vimdiff$|(^|/)git$' && tmux send-keys C-a \) || tmux select-pane -l"

bind-key -r C-h select-window -t :-
bind-key -r C-l select-window -t :+
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# disable moving around the panes with the arrows
unbind-key Up
unbind-key Down
unbind-key Left
unbind-key Right

# Start in new panes in the same directory
bind '"' split-window -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"

# start window numbering at 1 for easier switching
set -g base-index 1

# unicode
setw -g utf8 on
set -g status-utf8 on   

